# MQTT connection
MQTT_HOST=emqx
MQTT_PORT=1883
MQTT_USER=Horizon@user2024
MQTT_PASS=Chanel_horizon@2024
MQTT_CLIENT_PREFIX=rfid_access_
MQTT_KEEPALIVE=60
MQTT_RECONNECT_PERIOD=1000
MQTT_PROTOCOL_VERSION=5

# Subscription topic where RFID reader publishes scans
RFID_READER_TOPIC=rfid/readers/+/scan
RFID_READER_QOS=1

# Mapping between reader MAC addresses and DNI identifiers.
# Format can be JSON (e.g. {"aa:bb:cc":"00000000A"}) or comma separated (aa:bb:cc=00000000A)
RFID_MAC_DNI_MAP={"aa:bb:cc:dd:ee:ff":"00000000A"}
# Optional path to file containing the mapping (JSON or key=value per line)
#RFID_MAC_DNI_FILE=/data/rfid-mapping.json
# Interval in ms to reload mapping from file/remote (0 disables refresh)
RFID_MAC_DNI_REFRESH_MS=300000
# Optional remote directory that returns JSON with macâ†”dni mapping
#RFID_MAC_DNI_DIRECTORY_URL=https://directory.internal/api/rfid-readers
# Timeout for the remote directory request
#RFID_MAC_DNI_DIRECTORY_TIMEOUT=5000
# Bearer token sent to the remote directory (if required)
#RFID_MAC_DNI_DIRECTORY_API_KEY=
# Strategy to resolve MACs when remote directory is defined: eager | on-demand
RFID_MAC_DNI_LOOKUP_STRATEGY=eager

# External REST API configuration
RFID_AUTH_API_URL=https://example.com/api/access/validate
RFID_AUTH_API_TIMEOUT=5000
RFID_AUTH_API_KEY=replace-with-api-key

# Command publishing templates
RFID_GREEN_TOPIC_TEMPLATE=rfid/{mac}/actuators/green
RFID_RED_TOPIC_TEMPLATE=rfid/{mac}/actuators/red
RFID_ALARM_TOPIC_TEMPLATE=rfid/{mac}/actuators/alarm
RFID_COMMAND_QOS=1
RFID_COMMAND_RETAIN=0
RFID_COMMAND_PAYLOAD_FORMAT=json

# Logging level (debug, info, warn, error)
LOG_LEVEL=info

# Web interface for manual testing (optional)
HTTP_PORT=3001
BASE_PATH=/elecnor
RFID_WEB_ENABLED=1
RFID_WEB_SESSION_SECRET=change-me
RFID_WEB_USERNAME=admin
RFID_WEB_PASSWORD=admin
RFID_WEB_HISTORY_SIZE=25

# Valores por defecto para el test manual de e-coordina
ECOORDINA_API_URL=https://ws.e-coordina.com/1.4
ECOORDINA_API_USER=webservice
ECOORDINA_API_PASSWORD=cambia-esta-clave
ECOORDINA_API_ACTION=acceso_permitido_data
ECOORDINA_API_ACTION_TYPE=do
ECOORDINA_API_INSTANCE=elecnor
ECOORDINA_API_IN=json
ECOORDINA_API_OUT=json
ECOORDINA_API_TIMEOUT=7000
